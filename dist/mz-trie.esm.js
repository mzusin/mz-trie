/*
https://github.com/mzusin/mz-trie
MIT License      
Copyright (c) 2023-present, Miriam Zusin       
*/
var z=a=>{let l={children:new Map,isEndOfWord:!1},g=r=>{let n=l;for(let e=0;e<r.length;e++){let t=r[e];n.children.has(t)||n.children.set(t,{children:new Map,isEndOfWord:!1}),n=n.children.get(t)}n.isEndOfWord=!0},N=r=>{let n=(e,t)=>{if(!e)return!1;if(t===r.length&&e.isEndOfWord)return e.isEndOfWord=!1,e.children.size===0;let o=r[t],d=e.children.get(o);return n(d,t+1)?(e.children.delete(o),e.children.size===0):!1};n(l,0)},W=r=>{let n=l;for(let e=0;e<r.length;e++){let t=r[e];if(!n.children.has(t))return!1;n=n.children.get(t)}return n.isEndOfWord},E=r=>(r=r||l,(r==null?void 0:r.children.size)<=0),O=()=>JSON.stringify(l,(r,n)=>n instanceof Map?[...n]:n,4),p=()=>{let r=[],n=(e,t,o)=>{e.isEndOfWord&&r.push(o.slice(0,t).join(""));for(let[d,f]of e.children)o[t]=d,n(f,t+1,o)};return n(l,0,[]),r},u=r=>(e=>{if(!e)return 0;let t=0;e.isEndOfWord&&t++;for(let o of e.children.values())t+=u(o);return t})(r!=null?r:l),m=r=>{let n=0,e=(t,o)=>{n=Math.max(n,o);for(let d of t.children.values())e(d,o+1)};return e(r!=null?r:l,0),n},v=()=>{var b;if(l.children.size<=0)return"";let r=m(l),n=[],e=0;for(let s of l.children.values())n[e]=u(s),e++;let t=[];for(let s=0;s<r;s++)t.push([]);let o=s=>{let c=0;for(let i=0;i<s;i++)c+=n[i];return c},d=(s,c,i,I)=>{let h=0,w=o(i);for(let[T,x]of s.children)t[c][w+I+h]=T,d(x,c+1,i,I+h),h++};e=0;for(let[s,c]of l.children)t[0][o(e)]=s,d(c,1,e,0),e++;let f="";for(let s=0;s<t.length;s++){let c=t[s];for(let i=0;i<c.length;i++)f+=((b=c[i])!=null?b:" ")+" ";f+=`
`;for(let i=0;i<c.length;i++)c[i]===void 0||!t[s+1]||t[s+1][i]===void 0?f+="  ":c[i+1]===void 0&&t[s+1]&&t[s+1][i+1]!==void 0?f+="|\\":f+="| ";f+=`
`}return f.trim()};return(()=>{if(a)for(let r of a)g(r)})(),{insert:g,remove:N,search:W,isEmpty:E,getLeavesCount:u,getHeight:m,logTree:O,getWords:p,printTrie:v}};export{z as trie};
