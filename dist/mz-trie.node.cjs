/*
https://github.com/mzusin/mz-trie
MIT License      
Copyright (c) 2023-present, Miriam Zusin       
*/
var I=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var _=Object.prototype.hasOwnProperty;var j=(f,s)=>{for(var u in s)I(f,u,{get:s[u],enumerable:!0})},H=(f,s,u,a)=>{if(s&&typeof s=="object"||typeof s=="function")for(let g of L(s))!_.call(f,g)&&g!==u&&I(f,g,{get:()=>s[g],enumerable:!(a=C(s,g))||a.enumerable});return f};var J=f=>H(I({},"__esModule",{value:!0}),f);var B={};j(B,{suffixTree:()=>q,trie:()=>N});module.exports=J(B);var N=f=>{let s={children:new Map,isEndOfWord:!1},u=e=>{let n=s;for(let r=0;r<e.length;r++){let t=e[r];n.children.has(t)||n.children.set(t,{children:new Map,isEndOfWord:!1}),n=n.children.get(t)}n.isEndOfWord=!0},a=e=>{let n=(r,t)=>{if(!r)return!1;if(t===e.length&&r.isEndOfWord)return r.isEndOfWord=!1,r.children.size===0;let c=e[t],h=r.children.get(c);return n(h,t+1)?(r.children.delete(c),r.children.size===0):!1};n(s,0)},g=e=>{let n=s;for(let r=0;r<e.length;r++){let t=e[r];if(!n.children.has(t))return!1;n=n.children.get(t)}return n.isEndOfWord},O=e=>(e=e||s,(e==null?void 0:e.children.size)<=0),x=()=>JSON.stringify(s,(e,n)=>n instanceof Map?[...n]:n,4),T=()=>{let e=[],n=(r,t,c)=>{r.isEndOfWord&&e.push(c.slice(0,t).join(""));for(let[h,d]of r.children)c[t]=h,n(d,t+1,c)};return n(s,0,[]),e},m=e=>(r=>{if(!r)return 0;let t=0;r.isEndOfWord&&t++;for(let c of r.children.values())t+=m(c);return t})(e!=null?e:s),p=e=>{let n=0,r=(t,c)=>{n=Math.max(n,c);for(let h of t.children.values())r(h,c+1)};return r(e!=null?e:s,0),n},v=()=>{var W;if(s.children.size<=0)return"";let e=p(s),n=[],r=0;for(let i of s.children.values())n[r]=m(i),r++;let t=[];for(let i=0;i<e;i++)t.push([]);let c=i=>{let l=0;for(let o=0;o<i;o++)l+=n[o];return l},h=(i,l,o,E)=>{let b=0,w=c(o);for(let[z,M]of i.children)t[l][w+E+b]=z,h(M,l+1,o,E+b),b++};r=0;for(let[i,l]of s.children)t[0][c(r)]=i,h(l,1,r,0),r++;let d="";for(let i=0;i<t.length;i++){let l=t[i];for(let o=0;o<l.length;o++)d+=((W=l[o])!=null?W:" ")+" ";d+=`
`;for(let o=0;o<l.length;o++)l[o]===void 0||!t[i+1]||t[i+1][o]===void 0?d+="  ":l[o+1]===void 0&&t[i+1]&&t[i+1][o+1]!==void 0?d+="|\\":d+="| ";d+=`
`}return d.trim()};return(()=>{if(f)for(let e of f)u(e)})(),{insert:u,remove:a,search:g,isEmpty:O,getLeavesCount:m,getHeight:p,log:x,getWords:T,printTrie:v}};var q=f=>{let s=N();for(let u=0;u<f.length;u++){let a=f.substring(u);s.insert(a)}return s};0&&(module.exports={suffixTree,trie});
